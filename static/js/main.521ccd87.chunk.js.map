{"version":3,"sources":["components/Search.js","components/Filters.js","components/Card.js","components/js/getData.js","components/js/setObj.js","components/App.js","components/js/filterArticles.js","index.js"],"names":["Search","props","state","value","handleSearch","bind","e","this","setState","target","toLowerCase","preventDefault","handleFilters","name","className","type","onInput","placeholder","onClick","sendQuery","React","Component","Filters","filters","length","map","item","filter","onChange","types","id","Card","article","title","audience","speciality","section","summary","getData","url","axios","get","then","res","data","catch","err","console","log","setObj","App","articles","search","allFilters","numberOfArticles","viewMore","cs","pi","as","handleClick","getArticles","arr","sectionArr","specArr","o","filterArticles","_","prevState","filtered","indexOf","obj","caseStudy","Array","from","i","numOfCS","productInformation","numOfPI","abstractSummary","numOfAS","style","display","slice","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.521ccd87.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Search extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: ''\r\n    };\r\n\r\n    this.handleSearch = this.handleSearch.bind(this);\r\n  }\r\n\r\n  //control input in search component\r\n  handleSearch(e) {\r\n    this.setState({ value: e.target.value.toLowerCase() });\r\n  }\r\n\r\n  //pass data to App\r\n  sendQuery(e) {\r\n    e.preventDefault();\r\n    this.props.handleFilters({\r\n      name: 'search', value: this.state.value.toLowerCase()\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"search-form\">\r\n        <form>\r\n          <input\r\n            type=\"search\"\r\n            name=\"search\"\r\n            value={this.state.value}\r\n            onInput={(e) => this.handleSearch(e)}\r\n            placeholder=\"Search...\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            onClick={(e) => this.sendQuery(e)}\r\n          ></button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React from 'react';\r\n\r\nconst Filters = ({ filters, handleFilters }) => {\r\n  return (\r\n    <div className=\"filters-group\">\r\n      {!filters.length\r\n        ? <div className=\"no-filters\">no filters</div>\r\n        : filters.map(item =>\r\n          <div key={item.filter} className=\"filter\">\r\n            <select\r\n              className=\"select-filters\"\r\n              key={item.filter}\r\n              name={item.filter}\r\n              onChange={(e) => handleFilters({\r\n                name: item.filter, value: e.target.value\r\n              })}\r\n            >\r\n              {item.types.map(type =>\r\n                <option\r\n                  key={type.id}\r\n                  value={type.name}\r\n                >\r\n                  {type.name}\r\n                </option>\r\n              )}\r\n            </select>\r\n          </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filters;\r\n","import React from 'react';\r\n\r\nconst Card = ({ article }) => {\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"title-card\">\r\n        <h1>{article.title}</h1>\r\n      </div>\r\n      <div className=\"tags-card\">\r\n        <div>{article.audience}</div>\r\n        <div>{article.speciality}</div>\r\n        <div>{article.section}</div>\r\n      </div>\r\n      <div className=\"summary-card\">\r\n        <p>{article.summary}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import axios from 'axios';\r\n\r\nexport const getData = (url) => {\r\n  return axios\r\n    .get(url)\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n","export const setObj = (name, value, data) => {\r\n  let obj = {};\r\n\r\n  if (!value) {\r\n    return obj = {\r\n      ...data,\r\n      [name]: true\r\n    };\r\n  };\r\n\r\n  if (value === 'all') {\r\n    return obj = {\r\n      ...data,\r\n      [name]: ''\r\n    };\r\n  };\r\n\r\n  return obj = {\r\n    ...data,\r\n    [name]: value,\r\n  };\r\n};\r\n","import React, { Component } from 'react';\n\nimport Search from './Search';\nimport Filters from './Filters';\nimport Card from './Card';\n\nimport { getData } from './js/getData';\nimport { setObj } from './js/setObj';\nimport { filterArticles } from './js/filterArticles';\n\nimport '../App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      articles: '',\n      search: '',\n      allFilters: '',\n      numberOfArticles: 3,\n\n      viewMore: {\n        cs: false,\n        pi: false,\n        as: false\n      },\n\n      filters: {\n        section: '',\n        speciality: '',\n        audience: ''\n      }\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleFilters = this.handleFilters.bind(this);\n    this.getArticles = this.getArticles.bind(this);\n  }\n\n  componentDidMount() {\n    //get filters\n    getData('./filters.json')\n      .then((res) => {\n        this.setState({\n          allFilters: res.data\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    //get articles\n    this.getArticles();\n  }\n\n  //get articles for first opening and after filtrations and searching\n  getArticles() {\n    getData('./data.json')\n      .then((res) => {\n        let arr =[];\n\n        if (\n          !this.state.filters.section\n          && !this.state.filters.speciality\n          && !this.state.filters.audience\n        )\n        arr = res.data;\n        \n        //if 1 filter is fill, filter articles\n        arr = filterArticles(res.data, this.state.filters);\n        this.setState({\n          articles: arr,\n          viewMore: false\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  //update articles if filters or search query are changed\n  componentDidUpdate(_, prevState) {\n    const {search, filters, articles } = this.state;\n\n    if (filters.section !== prevState.filters.section) {\n      this.getArticles();\n    };\n\n    if (filters.speciality !== prevState.filters.speciality) {\n      this.getArticles();\n    };\n\n    if (filters.audience !== prevState.filters.audience) {\n      this.getArticles();\n    };\n      \n    if (search !== prevState.search) {\n      const filtered = articles.filter(article =>\n        article.title\n          .toLowerCase()\n          .indexOf(search) >= 0\n        || article.summary\n          .toLowerCase()\n          .indexOf(search) >= 0\n        );\n      this.setState({\n        articles: filtered,\n        viewMore: false\n      });\n    };\n  }\n\n  //view more button\n  handleClick(id) {\n    const obj = setObj(id, '', this.state.viewMore);\n    this.setState({ viewMore: obj });\n  }\n\n  //change filters and search query\n  handleFilters({ name, value }) {\n    if (name === 'search') this.setState({ search: value });\n    \n    const obj = setObj(name, value, this.state.filters);\n    this.setState({ filters: obj });\n  }\n\n  render() {\n    const {\n      viewMore,\n      numberOfArticles,\n      articles\n    } = this.state,\n\n      caseStudy = Array.from(articles)\n        .filter(i => i.section === 'case study'),\n      numOfCS = viewMore.cs ? caseStudy.length : numberOfArticles,\n\n      productInformation = Array.from(articles)\n        .filter(i => i.section === 'product information'),\n      numOfPI = viewMore.pi ? productInformation.length : numberOfArticles,\n\n      abstractSummary = Array.from(articles)\n        .filter(i => i.section === 'abstract summary'),\n      numOfAS = viewMore.as ? abstractSummary.length : numberOfArticles;\n\n    return (\n      <div className=\"app\">\n        <header className=\"app-header\">\n          <div className=\"search\">\n            <p>Search the Academy by keyword:</p>\n            <Search handleFilters={this.handleFilters} />\n          </div>\n          <div className=\"filters\">\n            <p>Filter content by:</p>\n            <Filters\n              handleFilters={this.handleFilters}\n              filters={this.state.allFilters}\n            />\n          </div>\n        </header>\n        {!articles.length\n          ? <div className=\"no-results\">No results</div>\n          : <section className=\"articles\">\n              <div\n                className=\"articles-section\"\n                style={{display: !caseStudy.length ? 'none' : 'flex'}}\n              >\n                <div className=\"section-header\">\n                  <h1>Case study</h1>\n                </div>\n                <div className=\"cards-section\">\n                  {caseStudy.slice(0, numOfCS).map((article) =>\n                    <Card key={article.id} article={article} />\n                  )}\n                </div>\n                <button\n                  className=\"view-more\"\n                  id=\"cs\"\n                  style={{display: caseStudy.length <= numberOfArticles ? 'none' : 'block'}}\n                  onClick={(e) => this.handleClick(e.target.id)}\n                >\n                  View more\n                </button>\n              </div>\n              <div\n                className=\"articles-section\"\n                style={{display: !productInformation.length ? 'none' : 'flex'}}\n              >\n                <div className=\"section-header\">\n                  <h1>Product information</h1>\n                </div>\n                <div className=\"cards-section\">\n                  {productInformation.slice(0, numOfPI).map((article) =>\n                    <Card key={article.id} article={article} />\n                  )}\n                </div>\n                <button\n                  className=\"view-more\"\n                  id=\"pi\"\n                  style={{display: productInformation.length <= numberOfArticles ? 'none' : 'block'}}\n                  onClick={(e) => this.handleClick(e.target.id)}\n                >\n                  View more\n                </button>\n              </div>\n              <div\n                className=\"articles-section\"\n                style={{display: !abstractSummary.length ? 'none' : 'flex'}}\n              >\n                <div className=\"section-header\">\n                  <h1>Abstract summary</h1>\n                </div>\n                <div className=\"cards-section\">\n                  {abstractSummary.slice(0, numOfAS).map((article) =>\n                    <Card key={article.id} article={article} />\n                  )}\n                </div>\n                <button\n                  className=\"view-more\"\n                  id=\"as\"\n                  style={{display: abstractSummary.length <= numberOfArticles ? 'none' : 'block'}}\n                  onClick={(e) => this.handleClick(e.target.id)}\n                >\n                  View more\n                </button>\n              </div>\n            </section>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","//filtering articles\r\nexport const filterArticles = (arr, filters) => {\r\n  let sectionArr = [], specArr = [], audArr = [];\r\n\r\n  if (filters.section) {\r\n    sectionArr = arr\r\n      .filter(o => o.section === filters.section);\r\n  } else {\r\n    sectionArr = arr;\r\n  };\r\n\r\n  if (filters.speciality) {\r\n    specArr = sectionArr\r\n      .filter(o => o.speciality === filters.speciality);\r\n  } else {\r\n    specArr = sectionArr;\r\n  };\r\n\r\n  if (filters.audience) {\r\n    return audArr = specArr\r\n      .filter(o => o.audience === filters.audience);\r\n  } else {\r\n    return specArr;\r\n  };\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}