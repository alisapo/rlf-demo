(this.webpackJsonprlf=this.webpackJsonprlf||[]).push([[0],{44:function(e,t,i){},45:function(e,t,i){},46:function(e,t,i){"use strict";i.r(t);var s=i(2),c=i.n(s),n=i(19),a=i.n(n),r=i(6),l=i(7),o=i(3),d=i(9),h=i(8),u=i(0),j=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var s;return Object(r.a)(this,i),(s=t.call(this,e)).state={value:""},s.handleSearch=s.handleSearch.bind(Object(o.a)(s)),s}return Object(l.a)(i,[{key:"handleSearch",value:function(e){this.setState({value:e.target.value.toLowerCase()})}},{key:"sendQuery",value:function(e){e.preventDefault(),this.props.handleFilters({name:"search",value:this.state.value.toLowerCase()})}},{key:"render",value:function(){var e=this;return Object(u.jsx)("div",{className:"search-form",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("input",{type:"search",name:"search",value:this.state.value,onInput:function(t){return e.handleSearch(t)},placeholder:"Search..."}),Object(u.jsx)("button",{type:"submit",onClick:function(t){return e.sendQuery(t)}})]})})}}]),i}(c.a.Component),f=function(e){var t=e.filters,i=e.handleFilters;return Object(u.jsx)("div",{className:"filters-group",children:t.length?t.map((function(e){return Object(u.jsx)("div",{className:"filter",children:Object(u.jsx)("select",{className:"select-filters",name:e.filter,onChange:function(t){return i({name:e.filter,value:t.target.value})},children:e.types.map((function(e){return Object(u.jsx)("option",{value:e.name,children:e.name},e.id)}))},e.filter)},e.filter)})):Object(u.jsx)("div",{className:"no-filters",children:"no filters"})})},b=function(e){var t=e.article;return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"title-card",children:Object(u.jsx)("h1",{children:t.title})}),Object(u.jsxs)("div",{className:"tags-card",children:[Object(u.jsx)("div",{children:t.audience}),Object(u.jsx)("div",{children:t.speciality}),Object(u.jsx)("div",{children:t.section})]}),Object(u.jsx)("div",{className:"summary-card",children:Object(u.jsx)("p",{children:t.summary})})]})},O=i(20),m=i.n(O),v=function(e){return m.a.get(e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},x=i(5),p=i(4),y=function(e,t,i){return t?"all"===t?Object(p.a)(Object(p.a)({},i),{},Object(x.a)({},e,"")):Object(p.a)(Object(p.a)({},i),{},Object(x.a)({},e,t)):Object(p.a)(Object(p.a)({},i),{},Object(x.a)({},e,!0))},g=(i(44),function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var s;return Object(r.a)(this,i),(s=t.call(this,e)).state={articles:"",search:"",allFilters:"",numberOfArticles:3,viewMore:{cs:!1,pi:!1,as:!1},filters:{section:"",speciality:"",audience:""}},s.handleClick=s.handleClick.bind(Object(o.a)(s)),s.handleFilters=s.handleFilters.bind(Object(o.a)(s)),s.getArticles=s.getArticles.bind(Object(o.a)(s)),s}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this;v("./filters.json").then((function(t){e.setState({allFilters:t.data})})).catch((function(e){console.log(e)})),this.getArticles()}},{key:"getArticles",value:function(){var e=this;v("./data.json").then((function(t){var i=[];e.state.filters.section||e.state.filters.speciality||e.state.filters.audience||(i=t.data),i=function(e,t){var i=[],s=[];return i=t.section?e.filter((function(e){return e.section===t.section})):e,s=t.speciality?i.filter((function(e){return e.speciality===t.speciality})):i,t.audience?s.filter((function(e){return e.audience===t.audience})):s}(t.data,e.state.filters),e.setState({articles:i,viewMore:!1})})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(e,t){var i=this.state,s=i.search,c=i.filters,n=i.articles;if(c.section!==t.filters.section&&this.getArticles(),c.speciality!==t.filters.speciality&&this.getArticles(),c.audience!==t.filters.audience&&this.getArticles(),s!==t.search){var a=n.filter((function(e){return e.title.toLowerCase().indexOf(s)>=0||e.summary.toLowerCase().indexOf(s)>=0}));this.setState({articles:a,viewMore:!1})}}},{key:"handleClick",value:function(e){var t=y(e,"",this.state.viewMore);this.setState({viewMore:t})}},{key:"handleFilters",value:function(e){var t=e.name,i=e.value;"search"===t&&this.setState({search:i});var s=y(t,i,this.state.filters);this.setState({filters:s})}},{key:"render",value:function(){var e=this,t=this.state,i=t.viewMore,s=t.numberOfArticles,c=t.articles,n=Array.from(c).filter((function(e){return"case study"===e.section})),a=i.cs?n.length:s,r=Array.from(c).filter((function(e){return"product information"===e.section})),l=i.pi?r.length:s,o=Array.from(c).filter((function(e){return"abstract summary"===e.section})),d=i.as?o.length:s;return Object(u.jsxs)("div",{className:"app",children:[Object(u.jsxs)("header",{className:"app-header",children:[Object(u.jsxs)("div",{className:"search",children:[Object(u.jsx)("p",{children:"Search the Academy by keyword:"}),Object(u.jsx)(j,{handleFilters:this.handleFilters})]}),Object(u.jsxs)("div",{className:"filters",children:[Object(u.jsx)("p",{children:"Filter content by:"}),Object(u.jsx)(f,{handleFilters:this.handleFilters,filters:this.state.allFilters})]})]}),c.length?Object(u.jsxs)("section",{className:"articles",children:[Object(u.jsxs)("div",{className:"articles-section",style:{display:n.length?"flex":"none"},children:[Object(u.jsx)("div",{className:"section-header",children:Object(u.jsx)("h1",{children:"Case study"})}),Object(u.jsx)("div",{className:"cards-section",children:n.slice(0,a).map((function(e){return Object(u.jsx)(b,{article:e},e.id)}))}),Object(u.jsx)("button",{className:"view-more",id:"cs",style:{display:n.length<=s?"none":"block"},onClick:function(t){return e.handleClick(t.target.id)},children:"View more"})]}),Object(u.jsxs)("div",{className:"articles-section",style:{display:r.length?"flex":"none"},children:[Object(u.jsx)("div",{className:"section-header",children:Object(u.jsx)("h1",{children:"Product information"})}),Object(u.jsx)("div",{className:"cards-section",children:r.slice(0,l).map((function(e){return Object(u.jsx)(b,{article:e},e.id)}))}),Object(u.jsx)("button",{className:"view-more",id:"pi",style:{display:r.length<=s?"none":"block"},onClick:function(t){return e.handleClick(t.target.id)},children:"View more"})]}),Object(u.jsxs)("div",{className:"articles-section",style:{display:o.length?"flex":"none"},children:[Object(u.jsx)("div",{className:"section-header",children:Object(u.jsx)("h1",{children:"Abstract summary"})}),Object(u.jsx)("div",{className:"cards-section",children:o.slice(0,d).map((function(e){return Object(u.jsx)(b,{article:e},e.id)}))}),Object(u.jsx)("button",{className:"view-more",id:"as",style:{display:o.length<=s?"none":"block"},onClick:function(t){return e.handleClick(t.target.id)},children:"View more"})]})]}):Object(u.jsx)("div",{className:"no-results",children:"No results"})]})}}]),i}(c.a.Component));i(45);a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.521ccd87.chunk.js.map